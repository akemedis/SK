{
    "type": "object",
    "description": "this schema describes the components of the reactor configuration and how they are connected to eachother",
    "properties": {
        "id": {
            "type": "string"
        },
        "name": {
            "type": "string",
            "description": "name of the reactor configuration"
        },
        "components": {
            "type": "object",
            "properties": {
                "lid": {
                    "type": "string",
                    "description": "ID of the lids model",
                    "ports": {
                        "type": "array",
                        "description": "list of virtual representations of available ports for this lids model",
                        "items": {
                            "type": "object",
                            "description": "virtual representation of a single port on the lid, should be autogenerated by server based on model ID",
                            "properties": {
                                "id": {
                                    "type": "string",
                                    "description": "the ID of the port for that model of vessel"
                                },
                                "connected_to": {
                                    "type": "string",
                                    "description": "ID of the connection it is linked to"
                                },
                                "size": {
                                    "type": "integer",
                                    "description": "diameter (mm) of the port, measured from max width"
                                },
                                "flow": {
                                    "type": "string",
                                    "description": "defines the flow of fluid between the reservoir and the reactor via a connection, plugged means its not connected/not used",
                                    "enum": ["inlet", "outlet", "plugged"]
                                }
                            }
                        }
                    }
                },
                "vessel": {
                    "type": "object",
                    "description": "the plastic or glass vessel body of the reactor",
                    "properties": {
                        "id": {
                            "type": "string",
                            "description": "the id of the vessels model"
                        },
                        "ports": {
                            "type": "array",
                            "description": "list of ports available on the vessel model",
                            "items": {
                                "type": "object",
                                "description": "virtual representation of each port, describing inflows and outflows",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "the id of the port for that model of vessel"
                                    },
                                    "connected_to": {
                                        "type": "string",
                                        "description": "ID of the connection it is linked to"
                                    },
                                    "size": {
                                        "type": "integer",
                                        "description": "diameter (mm) of the port, measured from max width"
                                    },
                                    "flow": {
                                        "type": "string",
                                        "description": "defines the flow of fluid between the reservoir and the reactor via a connection, plugged means its not connected/not used",
                                        "enum": ["inlet", "outlet", "plugged"]
                                    }
                                }
                            }
                        }
                    }

                },
                "heating_element": {
                    "type": "string",
                    "description": "ID of the heating elements model"
                },
                "reservoirs": {
                    "type": "array",
                    "description": "holds each reservoir object that holds liquids for the reactor IRL",
                    "items": {
                        "type": "object",
                        "decription": "the virtual representation of a single reservoir per item",
                        "properties": {
                            "id": {
                                "type": "string",
                                "description": "the model ID of the reservoir"
                            },
                            "contents": {
                                "type": "object",
                                "description": "the name and volume of fluid in the reservoir at beginning of run",
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "description": "the name of the fluid"
                                    },
                                    "volume": {
                                        "type": "integer",
                                        "description": "volume in milliliters occupied by the fluid"
                                    }
                                }   
                            }
                        }
                    }
                },
                "connections": {
                    "type": "array",
                    "description": "these items represent the tubular connections between the reactor and the reservoirs",
                    "items": {
                        "type": "object",
                        "description": "virtual representation of single tubular connection between the reactor and a reservoir",
                        "properties": {
                            "id": {
                                "type": "string",
                                "description": "autogenerated ID for this particular connection"
                            },
                            "phase": {
                                "type": "string",
                                "description": "describes the media moving through the connections, is it a fluid or a gas?",
                                "enum": ["fluid", "gas"]
                            },
                            "inlet": {
                                "type": "string",
                                "description": "the ID of the connected port that fluid will flow into"
                            },
                            "outlet": {
                                "type": "string",
                                "description": "the ID of the connected port that fluid will flow out of"
                            }
                        }
                    }
                }
            }
        }
    }
}